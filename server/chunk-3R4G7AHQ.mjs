import './polyfills.server.mjs';
import{$ as St,A as an,Aa as ze,B as ht,Ba as Ge,C as Fe,Ca as Ve,D as ke,Da as En,E as yt,Ea as Sn,F as A,Fa as bn,G as d,H as v,I as x,Ia as xn,J as cn,K as Me,L as M,M as te,Ma as Rn,N as un,O as ln,Oa as Be,P as dn,Pa as xt,Q as fn,Qa as Le,R as je,S as gt,T as pn,U as De,V as _e,W as vt,X as R,Y as P,Z as Et,_ as K,a as q,aa as ye,b as Re,ba as W,c as Ie,ca as p,d as Wt,da as f,e as Ce,ea as T,f as Zt,fa as mn,g as we,ga as U,h as dt,ha as bt,i as Xt,ia as E,j as _,ja as hn,k as ft,ka as j,l as ee,la as yn,m as L,ma as D,n as Oe,na as Pe,o as pt,oa as Ue,p as Jt,q as Te,r as Qt,s as en,t as tn,ta as gn,u as nn,v as mt,va as Ne,w as rn,x as on,xa as $e,y as Ae,ya as vn,z as sn}from"./chunk-HDCAMMHU.mjs";import{a as I,b as O}from"./chunk-5XUXGTUW.mjs";function ge(e,t){let r=!t?.manualCleanup;r&&!t?.injector&&ln(ge);let n=r?t?.injector?.get(gt)??x(gt):null,o=Ar(t?.equal),i;t?.requireSync?i=Et({kind:0},{equal:o}):i=Et({kind:1,value:t?.initialValue},{equal:o});let s=e.subscribe({next:c=>i.set({kind:1,value:c}),error:c=>{if(t?.rejectErrors)throw c;i.set({kind:2,error:c})}});if(t?.requireSync&&i().kind===0)throw new yt(601,!1);return n?.onDestroy(s.unsubscribe.bind(s)),$e(()=>{let c=i();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new yt(601,!1)}},{equal:t?.equal})}function Ar(e=Object.is){return(t,r)=>t.kind===1&&r.kind===1&&e(t.value,r.value)}var Ct={};function N(e,t){if(Ct[e]=(Ct[e]||0)+1,typeof t=="function")return Rt(e,(...n)=>O(I({},t(...n)),{type:e}));switch(t?t._as:"empty"){case"empty":return Rt(e,()=>({type:e}));case"props":return Rt(e,n=>O(I({},n),{type:e}));default:throw new Error("Unexpected config.")}}function H(){return{_as:"props",_p:void 0}}function Rt(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var Ee="@ngrx/store/init",B=(()=>{let t=class t extends Ie{constructor(){super({type:Ee})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),Fr=[B],Un=new d("@ngrx/store Internal Root Guard"),In=new d("@ngrx/store Internal Initial State"),Se=new d("@ngrx/store Initial State"),Nn=new d("@ngrx/store Reducer Factory"),Cn=new d("@ngrx/store Internal Reducer Factory Provider"),$n=new d("@ngrx/store Initial Reducers"),It=new d("@ngrx/store Internal Initial Reducers"),Ei=new d("@ngrx/store Store Features"),wn=new d("@ngrx/store Internal Store Reducers"),Si=new d("@ngrx/store Internal Feature Reducers"),bi=new d("@ngrx/store Internal Feature Configs"),xi=new d("@ngrx/store Internal Store Features"),Ri=new d("@ngrx/store Internal Feature Reducers Token"),Ii=new d("@ngrx/store Feature Reducers"),On=new d("@ngrx/store User Provided Meta Reducers"),He=new d("@ngrx/store Meta Reducers"),Tn=new d("@ngrx/store Internal Resolved Meta Reducers"),An=new d("@ngrx/store User Runtime Checks Config"),Fn=new d("@ngrx/store Internal User Runtime Checks Config"),ve=new d("@ngrx/store Internal Runtime Checks"),zn=new d("@ngrx/store Check if Action types are unique"),Ye=new d("@ngrx/store Root Store Provider"),Gn=new d("@ngrx/store Feature State Provider");function kr(e,t={}){let r=Object.keys(e),n={};for(let i=0;i<r.length;i++){let s=r[i];typeof e[s]=="function"&&(n[s]=e[s])}let o=Object.keys(n);return function(s,c){s=s===void 0?t:s;let h=!1,l={};for(let u=0;u<o.length;u++){let a=o[u],y=n[a],w=s[a],g=y(w,c);l[a]=g,h=h||g!==w}return h?l:s}}function Mr(e,t){return Object.keys(e).filter(r=>r!==t).reduce((r,n)=>Object.assign(r,{[n]:e[n]}),{})}function Vn(...e){return function(t){if(e.length===0)return t;let r=e[e.length-1];return e.slice(0,-1).reduceRight((o,i)=>i(o),r(t))}}function Bn(e,t){return Array.isArray(t)&&t.length>0&&(e=Vn.apply(null,[...t,e])),(r,n)=>{let o=e(r);return(i,s)=>(i=i===void 0?n:i,o(i,s))}}function jr(e){let t=Array.isArray(e)&&e.length>0?Vn(...e):r=>r;return(r,n)=>(r=t(r),(o,i)=>(o=o===void 0?n:o,r(o,i)))}var Z=class extends q{},ne=class extends B{},qe="@ngrx/store/update-reducers",wt=(()=>{let t=class t extends Ie{get currentReducers(){return this.reducers}constructor(n,o,i,s){super(s(i,o)),this.dispatcher=n,this.initialState=o,this.reducers=i,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let o=n.reduce((i,{reducers:s,reducerFactory:c,metaReducers:h,initialState:l,key:u})=>{let a=typeof s=="function"?jr(h)(s,l):Bn(c,h)(s,l);return i[u]=a,i},{});this.addReducers(o)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(o=>o.key))}addReducer(n,o){this.addReducers({[n]:o})}addReducers(n){this.reducers=I(I({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(o=>{this.reducers=Mr(this.reducers,o)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:qe,features:n})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(o){return new(o||t)(v(ne),v(Se),v($n),v(Nn))},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),Dr=[wt,{provide:Z,useExisting:wt},{provide:ne,useExisting:B}],oe=(()=>{let t=class t extends Re{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(i){return(n||(n=je(t)))(i||t)}})(),t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),_r=[oe],re=class extends q{},kn=(()=>{let t=class t extends Ie{constructor(n,o,i,s){super(s);let h=n.pipe(we(Ce)).pipe(ke(o)),l={state:s},u=h.pipe(Ae(Pr,l));this.stateSubscription=u.subscribe(({state:a,action:y})=>{this.next(a),i.next(y)}),this.state=ge(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=Ee,t.\u0275fac=function(o){return new(o||t)(v(B),v(Z),v(oe),v(Se))},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})();function Pr(e={state:void 0},[t,r]){let{state:n}=e;return{state:r(n,t),action:t}}var Ur=[kn,{provide:re,useExisting:kn}],F=(()=>{let t=class t extends q{constructor(n,o,i){super(),this.actionsObserver=o,this.reducerManager=i,this.source=n,this.state=n.state}select(n,...o){return $r.call(null,n,...o)(this)}selectSignal(n,o){return $e(()=>n(this.state()),o)}lift(n){let o=new t(this,this.actionsObserver,this.reducerManager);return o.operator=n,o}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,o){this.reducerManager.addReducer(n,o)}removeReducer(n){this.reducerManager.removeReducer(n)}};t.\u0275fac=function(o){return new(o||t)(v(re),v(B),v(wt))},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),Nr=[F];function $r(e,t,...r){return function(o){let i;if(typeof e=="string"){let s=[t,...r].filter(Boolean);i=o.pipe(on(e,...s))}else if(typeof e=="function")i=o.pipe(_(s=>e(s,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return i.pipe(tn())}}var Ft="https://ngrx.io/guide/store/configuration/runtime-checks";function Mn(e){return e===void 0}function jn(e){return e===null}function Ln(e){return Array.isArray(e)}function zr(e){return typeof e=="string"}function Gr(e){return typeof e=="boolean"}function Vr(e){return typeof e=="number"}function Hn(e){return typeof e=="object"&&e!==null}function Br(e){return Hn(e)&&!Ln(e)}function Lr(e){if(!Br(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function Ot(e){return typeof e=="function"}function Hr(e){return Ot(e)&&e.hasOwnProperty("\u0275cmp")}function Yr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qr(e){return e instanceof d?x(e):e}function Kr(e){return typeof e=="function"?e():e}function Wr(e,t){return e.concat(t)}function Zr(){if(x(F,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Xr(e,t){return function(r,n){let o=t.action(n)?Tt(n):n,i=e(r,o);return t.state()?Tt(i):i}}function Tt(e){Object.freeze(e);let t=Ot(e);return Object.getOwnPropertyNames(e).forEach(r=>{if(!r.startsWith("\u0275")&&Yr(e,r)&&(!t||r!=="caller"&&r!=="callee"&&r!=="arguments")){let n=e[r];(Hn(n)||Ot(n))&&!Object.isFrozen(n)&&Tt(n)}}),e}function Jr(e,t){return function(r,n){if(t.action(n)){let i=At(n);Dn(i,"action")}let o=e(r,n);if(t.state()){let i=At(o);Dn(i,"state")}return o}}function At(e,t=[]){return(Mn(e)||jn(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,o)=>{if(n)return n;let i=e[o];return Hr(i)?n:Mn(i)||jn(i)||Vr(i)||Gr(i)||zr(i)||Ln(i)?!1:Lr(i)?At(i,[...t,o]):{path:[...t,o],value:i}},!1)}function Dn(e,t){if(e===!1)return;let r=e.path.join("."),n=new Error(`Detected unserializable ${t} at "${r}". ${Ft}#strict${t}serializability`);throw n.value=e.value,n.unserializablePath=r,n}function Qr(e,t){return function(r,n){if(t.action(n)&&!De.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${Ft}#strictactionwithinngzone`);return e(r,n)}}function eo(e){return Ne()?I({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function to({strictActionSerializability:e,strictStateSerializability:t}){return r=>e||t?Jr(r,{action:n=>e&&!kt(n),state:()=>t}):r}function no({strictActionImmutability:e,strictStateImmutability:t}){return r=>e||t?Xr(r,{action:n=>e&&!kt(n),state:()=>t}):r}function kt(e){return e.type.startsWith("@ngrx")}function ro({strictActionWithinNgZone:e}){return t=>e?Qr(t,{action:r=>e&&!kt(r)}):t}function oo(e){return[{provide:Fn,useValue:e},{provide:An,useFactory:so,deps:[Fn]},{provide:ve,deps:[An],useFactory:eo},{provide:He,multi:!0,deps:[ve],useFactory:no},{provide:He,multi:!0,deps:[ve],useFactory:to},{provide:He,multi:!0,deps:[ve],useFactory:ro}]}function io(){return[{provide:zn,multi:!0,deps:[ve],useFactory:ao}]}function so(e){return e}function ao(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(Ct).filter(([,r])=>r>1).map(([r])=>r);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(r=>`"${r}"`).join(", ")}. ${Ft}#strictactiontypeuniqueness`)}function co(e={},t={}){return[{provide:Un,useFactory:Zr},{provide:In,useValue:t.initialState},{provide:Se,useFactory:Kr,deps:[In]},{provide:It,useValue:e},{provide:wn,useExisting:e instanceof d?e:It},{provide:$n,deps:[It,[new cn(wn)]],useFactory:qr},{provide:On,useValue:t.metaReducers?t.metaReducers:[]},{provide:Tn,deps:[He,On],useFactory:Wr},{provide:Cn,useValue:t.reducerFactory?t.reducerFactory:kr},{provide:Nn,deps:[Cn,Tn],useFactory:Bn},Fr,Dr,_r,Ur,Nr,oo(t.runtimeChecks),io()]}function uo(){x(B),x(Z),x(oe),x(F),x(Un,{optional:!0}),x(zn,{optional:!0})}var lo=[{provide:Ye,useFactory:uo},{provide:Me,multi:!0,useFactory(){return()=>x(Ye)}}];function Yn(e,t){return te([...co(e,t),lo])}function X(...e){let t=e.pop(),r=e.map(n=>n.type);return{reducer:t,types:r}}function Ke(e,...t){let r=new Map;for(let n of t)for(let o of n.types){let i=r.get(o);if(i){let s=(c,h)=>n.reducer(i(c,h),h);r.set(o,s)}else r.set(o,n.reducer)}return function(n=e,o){let i=r.get(o.type);return i?i(n,o):n}}var qn=N("[Game] Start"),Kn=N("[Game] Attack Enemy",H());var J=class J{constructor(t){this.http=t;this.apiUrl="http://localhost:3000"}getCharacters(){return this.http.get(`${this.apiUrl}/characters`)}addCharacter(t){return this.http.post(`${this.apiUrl}/characters`,t)}deleteCharacter(t){return this.http.delete(`${this.apiUrl}/characters/${t}`)}};J.\u0275fac=function(r){return new(r||J)(v(Ve))},J.\u0275prov=A({token:J,factory:J.\u0275fac,providedIn:"root"});var We=J;var se=class se{constructor(t,r,n){this.store=t;this.characterService=r;this.http=n;this.characters=[]}createCharacter(){let t={name:"Gandalf",level:15,stats:{strength:1,agility:1,intelligence:3},inventory:{weapon:{attack:1,name:"wand"},armour:{defense:1,name:"cloak"}}}}startGame(){this.store.dispatch(qn())}attackEnemy(){this.store.dispatch(Kn({damage:10}))}ngOnInit(){}};se.\u0275fac=function(r){return new(r||se)(P(F),P(We),P(Ve))},se.\u0275cmp=M({type:se,selectors:[["app-root"]],standalone:!0,features:[D],decls:1,vars:0,template:function(r,n){r&1&&T(0,"router-outlet")},dependencies:[Rn]});var Ze=se;var ce=class ce{constructor(){this.router=x(Be)}onPlay(){let t=prompt("Enter username:"),r=prompt("Enter password:");t==="drew"&&r==="6969"?this.router.navigate(["/transition"],{skipLocationChange:!0}):alert("Credenciales incorrectas. Intenta de nuevo.")}};ce.\u0275fac=function(r){return new(r||ce)},ce.\u0275cmp=M({type:ce,selectors:[["app-home"]],standalone:!0,features:[D],decls:6,vars:0,consts:[[1,"home-container"],[1,"overlay"],[1,"title"],[1,"play-button",3,"click"]],template:function(r,n){r&1&&(p(0,"div",0)(1,"div",1)(2,"h1",2),E(3,"Catacomb Crawler"),f(),p(4,"button",3),U("click",function(){return n.onPlay()}),E(5,"Jugar"),f()()())},dependencies:[Le],styles:['@font-face{font-family:UnifrakturMaguntia;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/unifrakturmaguntia/v20/WWXPlieVYwiGNomYU-ciRLRvEmK7oaVemGZM.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.home-container[_ngcontent-%COMP%]{position:relative;height:100vh;background:url(/home.png) no-repeat center center/cover;display:flex;justify-content:center;align-items:center}.home-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background:#000000b3;padding:40px;border:4px solid #624A2E;border-radius:10px;text-align:center;max-width:500px}.home-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:UnifrakturMaguntia,serif;font-size:3rem;color:#f4ebc1;margin-bottom:20px;letter-spacing:2px;text-shadow:2px 2px 5px black}.home-container[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{font-family:UnifrakturMaguntia,serif;font-size:1.4rem;color:#e2d3b9;margin-bottom:30px}.home-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{background-color:#4a2f1c;color:#f4ebc1;font-family:UnifrakturMaguntia,serif;padding:10px 20px;border:2px solid #F4EBC1;border-radius:8px;font-size:1.2rem;cursor:pointer;transition:all .3s ease-in-out}.home-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:hover{background-color:#f4ebc1;color:#4a2f1c}']});var Xe=ce;var ue=class ue{constructor(t){this.router=t}startGame(){this.router.navigate(["/game"])}};ue.\u0275fac=function(r){return new(r||ue)(P(Be))},ue.\u0275cmp=M({type:ue,selectors:[["app-transition"]],standalone:!0,features:[D],decls:5,vars:0,consts:[[1,"transition-container"],[1,"intro-text"],[1,"start-button",3,"click"]],template:function(r,n){r&1&&(p(0,"div",0)(1,"div",1),E(2," Your adventure begins now. You'll face dangerous enemies, uncover hidden treasures, and make difficult choices along the way. Your armor will protect you, your weapon will guide you, and the roll of the dice will determine your fate. Are you ready for the challenge? "),f(),p(3,"button",2),U("click",function(){return n.startGame()}),E(4,"Start the Adventure"),f()())},dependencies:[Ge,Le],styles:['@font-face{font-family:UnifrakturMaguntia;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/unifrakturmaguntia/v20/WWXPlieVYwiGNomYU-ciRLRvEmK7oaVemGZM.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.transition-container[_ngcontent-%COMP%]{background:linear-gradient(180deg,#000,#333 150%);color:#ddd;padding:20px;text-align:center;font-family:Cinzel,serif;height:100vh;display:flex;flex-direction:column;justify-content:center;animation:_ngcontent-%COMP%_fadeIn 2s ease-in-out forwards}.transition-container[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:30px;line-height:1.8;max-width:600px;margin-left:auto;margin-right:auto}.transition-container[_ngcontent-%COMP%]   .start-button[_ngcontent-%COMP%]{background-color:#4a2f1c;border:2px solid #999;color:#eee;padding:10px 20px;font-size:1.2rem;font-family:UnifrakturMaguntia,serif;width:auto;margin:0 auto;cursor:pointer;border-radius:8px;transition:background-color .3s,transform .2s}.transition-container[_ngcontent-%COMP%]   .start-button[_ngcontent-%COMP%]:hover{background-color:#4a2f1c;transform:scale(1.05)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:.95;background-color:#000}to{opacity:1;background-color:#333}}']});var Je=ue;var Qe=N("[Enemy] Damage Enemy",H()),et=N("[Enemy] Persuade Enemy",H());var le=N("[Player] Damage Player",H()),Wn=N("[Player] Heal Player",H()),Zn=N("[Player] Update Inventory",H());function mo(e,t){if(e&1&&(p(0,"div",0),T(1,"img",1),p(2,"div",2)(3,"h3"),E(4,"Your Stats"),f(),p(5,"div",3),T(6,"div",4),f(),p(7,"p"),E(8),f(),p(9,"p"),E(10),f(),p(11,"p"),E(12),f()(),p(13,"div",5)(14,"h3"),E(15,"Inventory"),f(),p(16,"p"),T(17,"img",6),E(18),f(),p(19,"p"),T(20,"img",7),E(21),f()()()),e&2){let r=t;R(6),ye("width",r.health+"%"),R(2),j("Health: ",r.health,"/100"),R(2),j("Attack: ",r.attack,""),R(2),j("Defense: ",r.defense,""),R(5),St("src",r.inventory.weaponImage,vt),R(),j(" Weapon: ",r.inventory.weapon," "),R(2),St("src",r.inventory.armorImage,vt),R(),j(" Armor: ",r.inventory.armor," ")}}var de=class de{constructor(t){this.store=t;this.player$=this.store.select("player")}};de.\u0275fac=function(r){return new(r||de)(P(F))},de.\u0275cmp=M({type:de,selectors:[["app-player"]],standalone:!0,features:[D],decls:2,vars:3,consts:[[1,"player-info"],["src","/player/player.png","alt","Player Avatar"],[1,"stats"],[1,"health-bar"],[1,"health"],[1,"inventory"],["alt","Weapon Image",1,"weapon-image",3,"src"],["alt","Armor Image",1,"armor-image",3,"src"]],template:function(r,n){if(r&1&&(K(0,mo,22,9,"div",0),Pe(1,"async")),r&2){let o;W((o=Ue(1,1,n.player$))?0:-1,o)}},dependencies:[ze]});var tt=de;function ho(e,t){if(e&1&&(p(0,"div",0)(1,"h3"),E(2,"Enemy Stats"),f(),p(3,"div",1),T(4,"div",2),f(),p(5,"div",3),T(6,"div",4),f(),p(7,"p"),E(8),f(),p(9,"p"),E(10),f(),p(11,"p"),E(12),f(),p(13,"p"),E(14),f(),T(15,"img",5),f()),e&2){let r=t;R(4),ye("width",r.health/r.maxHealth*100+"%"),R(2),ye("width",r.persuasion+"%"),R(2),yn("Health: ",r.health,"/",r.maxHealth,""),R(2),j("Persuasion: ",r.persuasion,"%"),R(2),j("Attack: ",r.attack,""),R(2),j("Defense: ",r.defense,"")}}var fe=class fe{constructor(t){this.store=t;this.enemy$=this.store.select("enemy")}};fe.\u0275fac=function(r){return new(r||fe)(P(F))},fe.\u0275cmp=M({type:fe,selectors:[["app-enemy"]],standalone:!0,features:[D],decls:2,vars:3,consts:[[1,"enemy-stats"],[1,"health-bar"],[1,"health"],[1,"persuasion-bar"],[1,"persuasion"],["src","/spooky-skeleton.gif","alt","Enemy GIF",1,"enemy-gif"]],template:function(r,n){if(r&1&&(K(0,ho,16,9,"div",0),Pe(1,"async")),r&2){let o;W((o=Ue(1,1,n.enemy$))?0:-1,o)}},dependencies:[ze]});var nt=fe;var pe=class pe{constructor(){this.reward={name:"skeleton sword"};this.onRewardSelection=new pn}selectReward(t){this.onRewardSelection.emit(t)}};pe.\u0275fac=function(r){return new(r||pe)},pe.\u0275cmp=M({type:pe,selectors:[["app-reward-modal"]],outputs:{onRewardSelection:"onRewardSelection"},standalone:!0,features:[D],decls:12,vars:1,consts:[[1,"modal-backdrop"],[1,"modal"],["src","/reward/gold-sword.png","alt","Reward Image"],[1,"modal-actions"],[3,"click"]],template:function(r,n){r&1&&(p(0,"div",0)(1,"div",1)(2,"h3"),E(3),f(),T(4,"img",2),p(5,"p"),E(6,"Would you like to equip it?"),f(),p(7,"div",3)(8,"button",4),U("click",function(){return n.selectReward(!0)}),E(9,"Yes"),f(),p(10,"button",4),U("click",function(){return n.selectReward(!1)}),E(11,"No"),f()()()()),r&2&&(R(3),j("Reward Received: ",n.reward.name,""))}});var rt=pe;function yo(e,t){if(e&1&&(p(0,"div")(1,"p"),E(2),f()()),e&2){let r=bt();R(2),j("You rolled a ",r.diceRoll,"!")}}function go(e,t){if(e&1){let r=mn();p(0,"app-reward-modal",6),U("onRewardSelection",function(o){dn(r);let i=bt();return fn(i.handleRewardSelection(o))}),f()}}var me=class me{constructor(t){this.store=t;this.player$=this.store.select("player");this.enemy$=this.store.select("enemy");this.message="You encounter a Skeleton Warrior in the dungeon! What will you do?";this.diceRoll=null;this.showModal=!1}rollDice(){this.diceRoll=Math.floor(Math.random()*6)+1}onPersuade(){this.message="You attempt to persuade the Skeleton Warrior...",this.rollDice(),this.diceRoll&&this.diceRoll>4?(this.store.dispatch(et({persuasion:this.diceRoll*10})),this.message="The Skeleton hesitates, but you seem to convince him!"):(this.message="Persuasion failed. The Skeleton is enraged and attacks!",this.store.dispatch(le({damage:this.diceRoll||1})))}onAttack(){if(this.message="You swing your sword at the Skeleton Warrior!",this.rollDice(),this.diceRoll&&this.diceRoll>3){let t=this.diceRoll*2;this.store.dispatch(Qe({damage:t})),this.message=`You dealt ${t} damage to the Skeleton Warrior!`,this.enemy$.subscribe(r=>{r.health<=0&&(this.message="You have defeated the Skeleton Warrior!",this.showModal=!0)}).unsubscribe()}else this.message="Your attack missed! The Skeleton counters!",this.store.dispatch(le({damage:this.diceRoll||1}))}onEscape(){this.message="You try to escape from the Skeleton Warrior...",this.rollDice(),this.diceRoll===6?this.message="You successfully escaped!":(this.message="Escape failed! The Skeleton attacks you!",this.store.dispatch(le({damage:this.diceRoll||1})))}handleRewardSelection(t){t?this.message="You equipped the reward!":this.message="You chose not to equip the reward.",this.showModal=!1,this.resetEnemy()}resetEnemy(){this.store.dispatch({type:"RESET_ENEMY"}),this.message="A new enemy approaches..."}};me.\u0275fac=function(r){return new(r||me)(P(F))},me.\u0275cmp=M({type:me,selectors:[["app-game"]],standalone:!0,features:[D],decls:17,vars:3,consts:[[1,"game-container"],[1,"game-story"],[1,"actions"],[3,"click"],[1,"dungeon-background"],["src","/game.png","alt","Dungeon Background",1,"dungeon-image"],[3,"onRewardSelection"]],template:function(r,n){r&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),E(3),f(),p(4,"div",2)(5,"button",3),U("click",function(){return n.onPersuade()}),E(6,"Persuade"),f(),p(7,"button",3),U("click",function(){return n.onAttack()}),E(8,"Attack"),f(),p(9,"button",3),U("click",function(){return n.onEscape()}),E(10,"Escape"),f()(),K(11,yo,3,1,"div"),f(),p(12,"div",4),T(13,"img",5),f(),T(14,"app-player")(15,"app-enemy"),K(16,go,1,0,"app-reward-modal"),f()),r&2&&(R(3),hn(n.message),R(8),W(n.diceRoll!==null?11:-1),R(5),W(n.showModal?16:-1))},dependencies:[tt,nt,rt]});var ot=me;var Mt=[{path:"",component:Xe},{path:"transition",component:Je},{path:"game",component:ot}];var jt="__@ngrx/effects_create__";function vo(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(jt)?e[n][jt].hasOwnProperty("dispatch"):!1).map(n=>{let o=e[n][jt];return I({propertyName:n},o)})}function Eo(e){return vo(e)}function Xn(e){return Object.getPrototypeOf(e)}function So(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Jn(e){return typeof e=="function"}function bo(e){return e.filter(Jn)}function xo(e,t,r){let n=Xn(e),i=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=Eo(e).map(({propertyName:c,dispatch:h,useEffectsErrorHandler:l})=>{let u=typeof e[c]=="function"?e[c]():e[c],a=l?r(u,t):u;return h===!1?a.pipe(Qt()):a.pipe(rn()).pipe(_(w=>({effect:e[c],notification:w,propertyName:c,sourceName:i,sourceInstance:e})))});return ee(...s)}var Ro=10;function Qn(e,t,r=Ro){return e.pipe(Oe(n=>(t&&t.handleError(n),r<=1?e:Qn(e,t,r-1))))}var Ss=new d("@ngrx/effects Internal Root Guard"),bs=new d("@ngrx/effects User Provided Effects"),xs=new d("@ngrx/effects Internal Root Effects"),Rs=new d("@ngrx/effects Internal Root Effects Instances"),Is=new d("@ngrx/effects Internal Feature Effects"),Cs=new d("@ngrx/effects Internal Feature Effects Instance Groups"),Io=new d("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Qn}),Co="@ngrx/effects/init",wo=N(Co);function Oo(e,t){if(e.notification.kind==="N"){let r=e.notification.value;!To(r)&&t.handleError(new Error(`Effect ${Ao(e)} dispatched an invalid action: ${Fo(r)}`))}}function To(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function Ao({propertyName:e,sourceInstance:t,sourceName:r}){let n=typeof t[e]=="function";return!!r?`"${r}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function Fo(e){try{return JSON.stringify(e)}catch{return e}}var ko="ngrxOnIdentifyEffects";function Mo(e){return Dt(e,ko)}var jo="ngrxOnRunEffects";function Do(e){return Dt(e,jo)}var _o="ngrxOnInitEffects";function Po(e){return Dt(e,_o)}function Dt(e,t){return e&&t in e&&typeof e[t]=="function"}var er=(()=>{let t=class t extends Re{constructor(n,o){super(),this.errorHandler=n,this.effectsErrorHandler=o}addEffects(n){this.next(n)}toActions(){return this.pipe(mt(n=>So(n)?Xn(n):n),ft(n=>n.pipe(mt(Uo))),ft(n=>{let o=n.pipe(nn(s=>No(this.errorHandler,this.effectsErrorHandler)(s)),_(s=>(Oo(s,this.errorHandler),s.notification)),L(s=>s.kind==="N"&&s.value!=null),en()),i=n.pipe(Te(1),L(Po),_(s=>s.ngrxOnInitEffects()));return ee(o,i)}))}};t.\u0275fac=function(o){return new(o||t)(v(_e),v(Io))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Uo(e){return Mo(e)?e.ngrxOnIdentifyEffects():""}function No(e,t){return r=>{let n=xo(r,e,t);return Do(r)?r.ngrxOnRunEffects(n):n}}var $o=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,o){this.effectSources=n,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(o){return new(o||t)(v(er),v(F))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function tr(...e){let t=e.flat(),r=bo(t);return te([r,{provide:Me,multi:!0,useValue:()=>{x(Ye),x(Gn,{optional:!0});let n=x($o),o=x(er),i=!n.isStarted;i&&n.start();for(let s of t){let c=Jn(s)?x(s):s;o.addEffects(c)}i&&x(F).dispatch(wo())}}])}var xe="PERFORM_ACTION",zo="REFRESH",ar="RESET",cr="ROLLBACK",ur="COMMIT",lr="SWEEP",dr="TOGGLE_ACTION",Go="SET_ACTIONS_ACTIVE",fr="JUMP_TO_STATE",pr="JUMP_TO_ACTION",qt="IMPORT_STATE",mr="LOCK_CHANGES",hr="PAUSE_RECORDING",he=class{constructor(t,r){if(this.action=t,this.timestamp=r,this.type=xe,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},_t=class{constructor(){this.type=zo}},Pt=class{constructor(t){this.timestamp=t,this.type=ar}},Ut=class{constructor(t){this.timestamp=t,this.type=cr}},Nt=class{constructor(t){this.timestamp=t,this.type=ur}},$t=class{constructor(){this.type=lr}},zt=class{constructor(t){this.id=t,this.type=dr}};var Gt=class{constructor(t){this.index=t,this.type=fr}},Vt=class{constructor(t){this.actionId=t,this.type=pr}},Bt=class{constructor(t){this.nextLiftedState=t,this.type=qt}},Lt=class{constructor(t){this.status=t,this.type=mr}},Ht=class{constructor(t){this.status=t,this.type=hr}};var ct=new d("@ngrx/store-devtools Options"),nr=new d("@ngrx/store-devtools Initial Config");function yr(){return null}var Vo="NgRx Store DevTools";function Bo(e){let t={maxAge:!1,monitor:yr,actionSanitizer:void 0,stateSanitizer:void 0,name:Vo,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof e=="function"?e():e,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,o=r.features||n||t.features;o.import===!0&&(o.import="custom");let i=Object.assign({},t,{features:o},r);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function rr(e,t){return e.filter(r=>t.indexOf(r)<0)}function gr(e){let{computedStates:t,currentStateIndex:r}=e;if(r>=t.length){let{state:o}=t[t.length-1];return o}let{state:n}=t[r];return n}function be(e){return new he(e,+Date.now())}function Lo(e,t){return Object.keys(t).reduce((r,n)=>{let o=Number(n);return r[o]=vr(e,t[o],o),r},{})}function vr(e,t,r){return O(I({},t),{action:e(t.action,r)})}function Ho(e,t){return t.map((r,n)=>({state:Er(e,r.state,n),error:r.error}))}function Er(e,t,r){return e(t,r)}function Sr(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Yo(e,t,r,n){let o=[],i={},s=[];return e.stagedActionIds.forEach((c,h)=>{let l=e.actionsById[c];l&&(h&&Kt(e.computedStates[h],l,t,r,n)||(i[c]=l,o.push(c),s.push(e.computedStates[h])))}),O(I({},e),{stagedActionIds:o,actionsById:i,computedStates:s})}function Kt(e,t,r,n,o){let i=r&&!r(e,t.action),s=n&&!t.action.type.match(n.map(h=>or(h)).join("|")),c=o&&t.action.type.match(o.map(h=>or(h)).join("|"));return i||s||c}function or(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function br(e){return{ngZone:e?x(De):null,connectInZone:e}}var ut=(()=>{let t=class t extends B{};t.\u0275fac=(()=>{let n;return function(i){return(n||(n=je(t)))(i||t)}})(),t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),it={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Yt=new d("@ngrx/store-devtools Redux Devtools Extension"),xr=(()=>{let t=class t{constructor(n,o,i){this.config=o,this.dispatcher=i,this.zoneConfig=br(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,o){if(this.devtoolsExtension)if(n.type===xe){if(o.isLocked||o.isPaused)return;let i=gr(o);if(Sr(this.config)&&Kt(i,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?Er(this.config.stateSanitizer,i,o.currentStateIndex):i,c=this.config.actionSanitizer?vr(this.config.actionSanitizer,n,o.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(c,s))}else{let i=O(I({},o),{stagedActionIds:o.stagedActionIds,actionsById:this.config.actionSanitizer?Lo(this.config.actionSanitizer,o.actionsById):o.actionsById,computedStates:this.config.stateSanitizer?Ho(this.config.stateSanitizer,o.computedStates):o.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new q(n=>{let o=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=o,o.init(),o.subscribe(i=>n.next(i)),o.unsubscribe}):Zt}createActionStreams(){let n=this.createChangesObservable().pipe(sn()),o=n.pipe(L(u=>u.type===it.START)),i=n.pipe(L(u=>u.type===it.STOP)),s=n.pipe(L(u=>u.type===it.DISPATCH),_(u=>this.unwrapAction(u.payload)),pt(u=>u.type===qt?this.dispatcher.pipe(L(a=>a.type===qe),Xt(1e3),Jt(1e3),_(()=>u),Oe(()=>dt(u)),Te(1)):dt(u))),h=n.pipe(L(u=>u.type===it.ACTION),_(u=>this.unwrapAction(u.payload))).pipe(Fe(i)),l=s.pipe(Fe(i));this.start$=o.pipe(Fe(i)),this.actions$=this.start$.pipe(ht(()=>h)),this.liftedActions$=this.start$.pipe(ht(()=>l))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let o={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(o.maxAge=n.maxAge),o}sendToReduxDevtools(n){try{n()}catch(o){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",o)}}};t.\u0275fac=function(o){return new(o||t)(v(Yt),v(ct),v(ut))},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})(),at={type:Ee},qo="@ngrx/store-devtools/recompute",Ko={type:qo};function Rr(e,t,r,n,o){if(n)return{state:r,error:"Interrupted by an error up the chain"};let i=r,s;try{i=e(r,t)}catch(c){s=c.toString(),o.handleError(c)}return{state:i,error:s}}function st(e,t,r,n,o,i,s,c,h){if(t>=e.length&&e.length===i.length)return e;let l=e.slice(0,t),u=i.length-(h?1:0);for(let a=t;a<u;a++){let y=i[a],w=o[y].action,g=l[a-1],m=g?g.state:n,z=g?g.error:void 0,G=s.indexOf(y)>-1?g:Rr(r,w,m,z,c);l.push(G)}return h&&l.push(e[e.length-1]),l}function Wo(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:be(at)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Zo(e,t,r,n,o={}){return i=>(s,c)=>{let{monitorState:h,actionsById:l,nextActionId:u,stagedActionIds:a,skippedActionIds:y,committedState:w,currentStateIndex:g,computedStates:m,isLocked:z,isPaused:k}=s||t;s||(l=Object.create(l));function G(C){let b=C,Y=a.slice(1,b+1);for(let $=0;$<Y.length;$++)if(m[$+1].error){b=$,Y=a.slice(1,b+1);break}else delete l[Y[$]];y=y.filter($=>Y.indexOf($)===-1),a=[0,...a.slice(b+1)],w=m[b].state,m=m.slice(b),g=g>b?g-b:0}function Q(){l={0:be(at)},u=1,a=[0],y=[],w=m[g].state,g=0,m=[]}let S=0;switch(c.type){case mr:{z=c.status,S=1/0;break}case hr:{k=c.status,k?(a=[...a,u],l[u]=new he({type:"@ngrx/devtools/pause"},+Date.now()),u++,S=a.length-1,m=m.concat(m[m.length-1]),g===a.length-2&&g++,S=1/0):Q();break}case ar:{l={0:be(at)},u=1,a=[0],y=[],w=e,g=0,m=[];break}case ur:{Q();break}case cr:{l={0:be(at)},u=1,a=[0],y=[],g=0,m=[];break}case dr:{let{id:C}=c;y.indexOf(C)===-1?y=[C,...y]:y=y.filter(Y=>Y!==C),S=a.indexOf(C);break}case Go:{let{start:C,end:b,active:Y}=c,$=[];for(let lt=C;lt<b;lt++)$.push(lt);Y?y=rr(y,$):y=[...y,...$],S=a.indexOf(C);break}case fr:{g=c.index,S=1/0;break}case pr:{let C=a.indexOf(c.actionId);C!==-1&&(g=C),S=1/0;break}case lr:{a=rr(a,y),y=[],g=Math.min(g,a.length-1);break}case xe:{if(z)return s||t;if(k||s&&Kt(s.computedStates[g],c,o.predicate,o.actionsSafelist,o.actionsBlocklist)){let b=m[m.length-1];m=[...m.slice(0,-1),Rr(i,c.action,b.state,b.error,r)],S=1/0;break}o.maxAge&&a.length===o.maxAge&&G(1),g===a.length-1&&g++;let C=u++;l[C]=c,a=[...a,C],S=a.length-1;break}case qt:{({monitorState:h,actionsById:l,nextActionId:u,stagedActionIds:a,skippedActionIds:y,committedState:w,currentStateIndex:g,computedStates:m,isLocked:z,isPaused:k}=c.nextLiftedState);break}case Ee:{S=0,o.maxAge&&a.length>o.maxAge&&(m=st(m,S,i,w,l,a,y,r,k),G(a.length-o.maxAge),S=1/0);break}case qe:{if(m.filter(b=>b.error).length>0)S=0,o.maxAge&&a.length>o.maxAge&&(m=st(m,S,i,w,l,a,y,r,k),G(a.length-o.maxAge),S=1/0);else{if(!k&&!z){g===a.length-1&&g++;let b=u++;l[b]=new he(c,+Date.now()),a=[...a,b],S=a.length-1,m=st(m,S,i,w,l,a,y,r,k)}m=m.map(b=>O(I({},b),{state:i(b.state,Ko)})),g=a.length-1,o.maxAge&&a.length>o.maxAge&&G(a.length-o.maxAge),S=1/0}break}default:{S=1/0;break}}return m=st(m,S,i,w,l,a,y,r,k),h=n(h,c),{monitorState:h,actionsById:l,nextActionId:u,stagedActionIds:a,skippedActionIds:y,committedState:w,currentStateIndex:g,computedStates:m,isLocked:z,isPaused:k}}}var ir=(()=>{let t=class t{constructor(n,o,i,s,c,h,l,u){let a=Wo(l,u.monitor),y=Zo(l,a,h,u.monitor,u),w=ee(ee(o.asObservable().pipe(an(1)),s.actions$).pipe(_(be)),n,s.liftedActions$).pipe(we(Ce)),g=i.pipe(_(y)),m=br(u.connectInZone),z=new Wt(1);this.liftedStateSubscription=w.pipe(ke(g),sr(m),Ae(({state:Q},[S,C])=>{let b=C(Q,S);return S.type!==xe&&Sr(u)&&(b=Yo(b,u.predicate,u.actionsSafelist,u.actionsBlocklist)),s.notify(S,b),{state:b,action:S}},{state:a,action:null})).subscribe(({state:Q,action:S})=>{if(z.next(Q),S.type===xe){let C=S.action;c.next(C)}}),this.extensionStartSubscription=s.start$.pipe(sr(m)).subscribe(()=>{this.refresh()});let k=z.asObservable(),G=k.pipe(_(gr));Object.defineProperty(G,"state",{value:ge(G,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=k,this.state=G}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new he(n,+Date.now()))}refresh(){this.dispatch(new _t)}reset(){this.dispatch(new Pt(+Date.now()))}rollback(){this.dispatch(new Ut(+Date.now()))}commit(){this.dispatch(new Nt(+Date.now()))}sweep(){this.dispatch(new $t)}toggleAction(n){this.dispatch(new zt(n))}jumpToAction(n){this.dispatch(new Vt(n))}jumpToState(n){this.dispatch(new Gt(n))}importState(n){this.dispatch(new Bt(n))}lockChanges(n){this.dispatch(new Lt(n))}pauseRecording(n){this.dispatch(new Ht(n))}};t.\u0275fac=function(o){return new(o||t)(v(ut),v(B),v(Z),v(xr),v(oe),v(_e),v(Se),v(ct))},t.\u0275prov=A({token:t,factory:t.\u0275fac});let e=t;return e})();function sr({ngZone:e,connectInZone:t}){return r=>t?new q(n=>r.subscribe({next:o=>e.run(()=>n.next(o)),error:o=>e.run(()=>n.error(o)),complete:()=>e.run(()=>n.complete())})):r}var Xo=new d("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Jo(e,t){return!!e||t.monitor!==yr}function Qo(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Ir(e={}){return te([xr,ut,ir,{provide:nr,useValue:e},{provide:Xo,deps:[Yt,ct],useFactory:Jo},{provide:Yt,useFactory:Qo},{provide:ct,deps:[nr],useFactory:Bo},{provide:re,deps:[ir],useFactory:ei},{provide:ne,useExisting:ut}])}function ei(e){return e.state}var ti={name:"Skeleton Warrior",health:50,maxHealth:50,persuasion:0,attack:8,defense:3},Cr=Ke(ti,X(Qe,(e,{damage:t})=>O(I({},e),{health:Math.max(0,e.health-t)})),X(et,(e,{persuasion:t})=>O(I({},e),{persuasion:Math.min(100,e.persuasion+t)})));var ni={health:100,attack:10,defense:5,inventory:{weapon:"Sword",weaponImage:"/player/sword.png",armor:"Iron Armor",armorImage:"/player/armor.png"}},wr=Ke(ni,X(le,(e,{damage:t})=>O(I({},e),{health:Math.max(0,e.health-t)})),X(Wn,(e,{heal:t})=>O(I({},e),{health:Math.min(100,e.health+t)})),X(Zn,(e,{weapon:t,armor:r})=>O(I({},e),{inventory:O(I({},e.inventory),{weapon:t,armor:r})})));var Or={providers:[gn({eventCoalescing:!0}),xt(Mt),un(Ge),bn(),xt(Mt),En(),Yn({player:wr,enemy:Cr}),tr(),Ir({maxAge:25,logOnly:!Ne(),autoPause:!0})]};var ri={providers:[xn()]},Tr=vn(Or,ri);var oi=()=>Sn(Ze,Tr),pa=oi;export{pa as a};
